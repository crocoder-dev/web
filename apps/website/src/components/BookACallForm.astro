---
import { Image } from "astro:assets";
import classNames from "classnames";
import meetingImage from "../assets/meeting-croc.png";
import CalcomEmbedInline from "../components/CalcomEmbedInline.astro";
import { grid_classes } from "./_grid";
import Pill from "./Pill.astro";
import Section from "./Section.astro";

export interface Props {
  calLink?: string;
  eventType?: string;
  className?: string;
  contentClassName?: string;
  deferLoad?: boolean;
}

const {
  calLink = "team/crocoder/hello",
  eventType = "hello",
  className,
  contentClassName,
  deferLoad,
} = Astro.props;
---

<Section
  className={classNames(
    "bg-secondary !pb-16 md:!pb-24 !pt-0 overflow-visible mt-[220px] xl:mt-[300px]",
    className
  )}
  contentClassName={classNames(
    `${grid_classes} items-center`,
    contentClassName
  )}
>
  <div
    class="col-span-6 md:col-span-8 md:col-start-3 -translate-y-1/2 -mb-40 xl:col-span-6 xl:col-start-4 lg:-mb-60"
  >
    <Image
      class="object-cover xl:p-6 md:p-0 p-8"
      src={meetingImage}
      alt="CroCoder team member in a video call consultation"
      widths={[320, 480, 640, 800, 940]}
      sizes="(max-width: 768px) calc(100vw - 32px), (max-width: 1280px) calc(67vw - 32px), calc(50vw - 28px)"
      loading="lazy"
    />
  </div>
  <div
    id="book-a-call-section"
    class="col-span-6 grid gap-4 md:col-span-12 md:text-center md:justify-items-center text-white xl:col-span-8 xl:col-start-3 scroll-mt-20"
  >
    <Pill>Book your call today</Pill>
    <h2
      class="text-[44px] leading-[48px] tracking-tight font-medium md:text-[74px] md:leading-[82px]"
    >
      <slot name="title" />
    </h2>
    <p class="text-base leading-[26px] pt-3">
      Stop wasting time being caught in operational bottlenecks. Schedule your
      free call today, and letâ€™s help you deliver on your strategic vision with
      confidence. Select a date below or
      <a class="bold underline" href="/contact"> contact us here.</a>
    </p>
  </div>

  <div
    class="relative col-span-6 md:col-span-10 md:col-start-2 overflow-hidden flex flex-col justify-center bg-white rounded lg:min-h-[460px]"
  >
    <div id="book-a-call" class="min-h-[460px]"></div>
    <CalcomEmbedInline
      calLink={calLink}
      eventType={eventType}
      elementOrSelector="#book-a-call"
      hideEventTypeDetails={false}
      deferLoad={deferLoad}
    />
  </div>
</Section>
