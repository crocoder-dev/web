---
import PostBase from "./post-base.astro";
import formatDate from "../format-date";

const { post, author } = Astro.props;
const { name: authorName, image: authorImage } = author.data;
const { Content } = await post.render();
const { Content: AuthorContent } = await author.render();
const { title, image, date } = post.data;

const formattedDate = formatDate(date);
---

<PostBase
  authorName={authorName}
  authorImage={authorImage}
  AuthorContent={AuthorContent}
  formattedDate={formattedDate}
  title={title}
  image={image}
>
  <Content />
</PostBase>
